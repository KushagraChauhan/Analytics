/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 * @ignore
 */
define(["ojs/ojcore","jquery"],function(e,t){"use strict";var l=function(){};return l._TAB_INDEX="tabIndex",l._DATA_OJ_TABMOD="data-oj-tabmod",l.getFocusableElementsInNode=function(e,t){for(var n=[],r=e.querySelectorAll("input, select, button, a, textarea, object, [tabIndex]:not([tabIndex='-1'])"),i=r.length,s=0;s<i;s++){var o=r[s];if(!o.disabled&&(t||"none"!==o.style.display)){var a=parseInt(o.getAttribute(l._TAB_INDEX),10);(isNaN(a)||a>=0)&&n.push(o)}}return n},l.disableAllFocusableElements=function(e,t,n){for(var r=[],i=l.getFocusableElementsInNode(e,t),s=0;s<i.length;s++)if(!n||i[s]!==document.activeElement){var o=parseInt(i[s].getAttribute(l._TAB_INDEX),10);i[s].setAttribute(l._DATA_OJ_TABMOD,o),i[s].setAttribute(l._TAB_INDEX,-1),r.push(i[s])}return r},l.enableAllFocusableElements=function(e){for(var t=e.querySelectorAll("["+l._DATA_OJ_TABMOD+"]"),n=0;n<t.length;n++){var r=parseInt(t[n].getAttribute(l._DATA_OJ_TABMOD),10);t[n].removeAttribute(l._DATA_OJ_TABMOD),isNaN(r)?t[n].removeAttribute(l._TAB_INDEX):t[n].setAttribute(l._TAB_INDEX,r)}return t},l.handleActionableTab=function(e,t){var n=l.getFocusableElementsInNode(t);return n.length>0&&e.target===n[n.length-1]&&(n[0].focus(),!0)},l.handleActionablePrevTab=function(e,t){var n=l.getFocusableElementsInNode(t);return n.length>0&&e.target===n[0]&&(n[n.length-1].focus(),!0)},l.getDefaultScrollBarWidth=function(e){var t;if(e&&e.style){var l=e.style.visibility,n=e.style.position,r=e.style.overflowY,i=e.style.height,s=e.style.width;e.style.visibility="hidden",e.style.position="absolute",e.style.overflowY="hidden",e.style.height="50px",e.style.width="50px";var o=e.offsetWidth-e.clientWidth;e.style.overflowY="scroll",t=e.offsetWidth-e.clientWidth-o,e.style.width=s,e.style.height=i,e.style.overflowY=r,e.style.position=n,e.style.visibility=l}return t},l.disableDefaultBrowserStyling=function(e){e.setAttribute("x-ms-format-detection","none")},l.areKeySetsEqual=function(t,l){if(t===l)return!0;var n,r,i=t.isAddAll();if(i!==l.isAddAll())return!1;if(i?(n=t.deletedValues(),r=l.deletedValues()):(n=t.values(),r=l.values()),n.size!==r.size)return!1;for(var s=n.values(),o=r.values(),a=s.next(),u=o.next();!a.done;){if(!e.KeyUtils.equals(a.value,u.value))return!1;a=s.next(),u=o.next()}return!0},l});